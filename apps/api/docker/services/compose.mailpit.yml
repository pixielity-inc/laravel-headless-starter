# ==============================================================================
# Mailpit Service
# ==============================================================================
# Email testing tool with web UI (Mailtrap alternative)
#
# Usage:
#   docker-compose -f docker-compose.yml -f compose.mailpit.yml up -d
#
# Access:
#   Web UI: http://localhost:8025
#   SMTP: localhost:1025
# ==============================================================================

services:
  mailpit:
    env_file:
      - ../../environments/.env.docker
    image: axllent/mailpit:latest
    container_name: laravel-mailpit
    ports:
      - "${MAILPIT_SMTP_PORT:-1025}:1025"
      - "${MAILPIT_UI_PORT:-8025}:8025"
    environment:
      MP_MAX_MESSAGES: 5000
      MP_SMTP_AUTH_ACCEPT_ANY: 1
      MP_SMTP_AUTH_ALLOW_INSECURE: 1
    restart: unless-stopped
    networks:
      - laravel
