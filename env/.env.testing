# ==============================================================================
# TESTING ENVIRONMENT
# ==============================================================================
# This file contains environment variables for running automated tests.
# Laravel automatically uses this file when running PHPUnit/Pest tests.
#
# Note: Tests should use in-memory databases and mock external services.
# ==============================================================================

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------

APP_NAME="Laravel Headless Starter"
APP_ENV=testing
APP_KEY=base64:test-key-for-testing-only
APP_DEBUG=true
APP_URL=http://localhost

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# ------------------------------------------------------------------------------
# Laravel Octane Configuration
# ------------------------------------------------------------------------------
# Octane is typically not used during testing.
# ------------------------------------------------------------------------------

OCTANE_SERVER=frankenphp
OCTANE_HTTPS=false
OCTANE_WORKERS=1
OCTANE_MAX_REQUESTS=100
OCTANE_WATCH=false

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# Use lower rounds for faster tests
# ------------------------------------------------------------------------------

BCRYPT_ROUNDS=4

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
# Minimal logging during tests to improve performance.
# ------------------------------------------------------------------------------

LOG_CHANNEL=null
LOG_LEVEL=emergency

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# Use in-memory SQLite for fast, isolated tests.
# Database is recreated for each test run.
# ------------------------------------------------------------------------------

DB_CONNECTION=sqlite
DB_DATABASE=:memory:

# ------------------------------------------------------------------------------
# Session Configuration
# ------------------------------------------------------------------------------
# Use array driver for testing (no persistence needed).
# ------------------------------------------------------------------------------

SESSION_DRIVER=array
SESSION_LIFETIME=120

# ------------------------------------------------------------------------------
# Cache Configuration
# ------------------------------------------------------------------------------
# Use array driver for testing (no persistence needed).
# ------------------------------------------------------------------------------

CACHE_STORE=array

# ------------------------------------------------------------------------------
# Queue Configuration
# ------------------------------------------------------------------------------
# Use sync driver to run jobs immediately during tests.
# ------------------------------------------------------------------------------

QUEUE_CONNECTION=sync

# ------------------------------------------------------------------------------
# Mail Configuration
# ------------------------------------------------------------------------------
# Use array driver to capture emails without sending them.
# Access sent emails in tests using Mail::assertSent()
# ------------------------------------------------------------------------------

MAIL_MAILER=array

# ------------------------------------------------------------------------------
# Broadcasting Configuration
# ------------------------------------------------------------------------------
# Use null driver for testing to avoid external dependencies.
# ------------------------------------------------------------------------------

BROADCAST_CONNECTION=null

# Laravel Reverb Configuration (not used in testing)
REVERB_APP_ID=test-app-id
REVERB_APP_KEY=test-app-key
REVERB_APP_SECRET=test-app-secret
REVERB_HOST=localhost
REVERB_PORT=8080
REVERB_SCHEME=http

# ------------------------------------------------------------------------------
# Filesystem Configuration
# ------------------------------------------------------------------------------
# Tests should use local disk to avoid external dependencies.
# ------------------------------------------------------------------------------

FILESYSTEM_DISK=local

# ------------------------------------------------------------------------------
# AWS Configuration
# ------------------------------------------------------------------------------
# Mock AWS services in tests instead of using real credentials.
# ------------------------------------------------------------------------------

AWS_ACCESS_KEY_ID=testing
AWS_SECRET_ACCESS_KEY=testing
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=testing
AWS_USE_PATH_STYLE_ENDPOINT=false
